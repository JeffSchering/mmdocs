


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Migration Guide &mdash; Mattermost 3.10 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
  

  
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Mattermost 3.10 documentation" href="../index.html"/>
        <link rel="up" title="Administrator’s Guide" href="../guides/administrator.html"/>
        <link rel="next" title="Mattermost Changelog" href="changelog.html"/>
        <link rel="prev" title="Upgrading Mattermost Server" href="upgrade.html"/>
	
		<!-- Google Analytics -->
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-67846571-2', 'auto');
			ga('send', 'pageview');
		</script>
		<!-- End Google Analytics -->
	


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Mattermost
          

          
          </a>

          
            
            
              <div class="version">
                3.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/user.html">User&#8217;s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../guides/administrator.html">Administrator&#8217;s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#installing-mattermost">Installing Mattermost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#deployment">Deployment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../guides/administrator.html#administration">Administration</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="command-line-tools.html">Command Line Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="config-settings.html">Configuration Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="statistics.html">Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="announcement-banner.html">Announcement Banner</a></li>
<li class="toctree-l3"><a class="reference internal" href="compliance.html">Compliance Reporting and Oversight</a></li>
<li class="toctree-l3"><a class="reference internal" href="branding.html">Custom Branding Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html">Backup &amp; Disaster Recovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="upgrade.html">Upgrading Mattermost Server</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Migration Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#migrating-the-mattermost-server">Migrating the Mattermost Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#migrating-from-slack">Migrating from Slack</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guides/administrator.html#changelog">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/integration.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/developer.html">Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/core.html">Core Team Handbook</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Mattermost</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          


  


<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
      <li><a href="../guides/administrator.html">Administrator&#8217;s Guide</a> &raquo;</li>
    
    <li>Migration Guide</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/mattermost/docs/blob/master/source/administration/migrating.rst" class="fa fa-github"> Edit</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="migration-guide">
<h1>Migration Guide<a class="headerlink" href="#migration-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="migrating-the-mattermost-server">
<h2>Migrating the Mattermost Server<a class="headerlink" href="#migrating-the-mattermost-server" title="Permalink to this headline">¶</a></h2>
<p>The following instructions migrate Mattermost from one server to another by backing up and restoring the Mattermost database and <code class="docutils literal"><span class="pre">config.json</span></code> file. For these instructions <strong>SOURCE</strong> refers to the Mattermost server <em>from which</em> your system will be migrated and <strong>DESTINATION</strong> refers to the Mattermost server <em>to which</em> your system will be migrated.</p>
<ol class="arabic simple">
<li><dl class="first docutils">
<dt>Backup your SOURCE Mattermost server</dt>
<dd><ol class="first last arabic">
<li>See <a class="reference external" href="https://docs.mattermost.com/administration/backup.html">Backup Guide</a></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Upgrade your SOURCE Mattermost server to the latest major build version</dt>
<dd><ol class="first last arabic">
<li>See <a class="reference external" href="upgrade.html">Mattermost Upgrade Guide</a></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Install the latest major build of Mattermost server as your DESTINATION</dt>
<dd><ol class="first last arabic">
<li>See docs.mattermost.com for install guides. Make sure your new instance is properly configured and tested. The database type (MySQL or PostgreSQL) and version of SOURCE and DESTINATION deployments need to match.</li>
<li>Stop the DESTINATION server using <cite>sudo stop mattermost</cite>, then backup the database and <cite>config.json</cite> file.</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Migrate database from SOURCE to DESTINATION</dt>
<dd><ol class="first last arabic">
<li>Backup the database from the SOURCE Mattermost server and restore it in place of the database to which the DESTINATION server is connected</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Migrate <code class="docutils literal"><span class="pre">config.json</span></code> from SOURCE to DESTINATION</dt>
<dd><ol class="first last arabic">
<li>Copy of <code class="docutils literal"><span class="pre">config.json</span></code> file from SOURCE deployment to DESTINATION</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>If you use local storage (<code class="docutils literal"><span class="pre">FileSettings.DriverName</span></code> is set to <code class="docutils literal"><span class="pre">local</span></code>), migrate <code class="docutils literal"><span class="pre">./data</span></code> from SOURCE to DESTINATION</dt>
<dd><ol class="first last arabic">
<li>Copy the <code class="docutils literal"><span class="pre">./data</span></code> directory from SOURCE deployment to DESTINATION</li>
<li>If you use a directory other than <code class="docutils literal"><span class="pre">./data</span></code>, copy that directory instead</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Start the DESTINATION deployment</dt>
<dd><ol class="first last arabic">
<li>Run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">start</span> <span class="pre">mattermost</span></code></li>
<li>Opening the <strong>System Console</strong> and saving a change will upgrade your <code class="docutils literal"><span class="pre">config.json</span></code> schema to the latest version using default values for any new settings added</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Test the system is working by going to the URL of an existing team.</dt>
<dd><ol class="first last arabic">
<li>You may need to refresh your Mattermost browser page in order to get the latest updates from the upgrade</li>
</ol>
</dd>
</dl>
</li>
</ol>
<p>Once your migration is complete and verified, you can optionally <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-team-edition-to-enterprise-edition">upgrade the Team Edition of Mattermost to Enterprise Edition using the upgrade guide</a>.</p>
</div>
<div class="section" id="migrating-from-slack">
<h2>Migrating from Slack<a class="headerlink" href="#migrating-from-slack" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As a proprietary SaaS service, Slack is able to change its export format quickly and without notice. If you encounter issues not mentioned in the documentation below, please alert the product team by <a class="reference external" href="https://www.mattermost.org/filing-issues/">filing an issue</a>.</p>
</div>
<p>The Slack Import feature in Mattermost is in &#8220;Beta&#8221; and focused on supporting migration of teams of less than 100 registered users.</p>
<p>This feature can be accessed through the <a class="reference external" href="https://docs.mattermost.com/administration/migrating.html#migrating-from-slack-using-the-mattermost-web-app">Mattermost Web App</a> or using the <a class="reference external" href="https://docs.mattermost.com/administration/migrating.html#migrating-from-slack-using-the-mattermost-cli">CLI</a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p><strong>It is highly recommended that you test Slack import before applying it to an instance intended for production.</strong></p>
<p>If you use Docker, you can spin up a test instance in one line:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">name</span> <span class="n">mattermost</span><span class="o">-</span><span class="n">dev</span> <span class="o">-</span><span class="n">d</span> <span class="o">--</span><span class="n">publish</span> <span class="mi">8065</span><span class="p">:</span><span class="mi">80</span> <span class="n">mattermost</span><span class="o">/</span><span class="n">platform</span>
</pre></div>
</div>
<p class="last">If you don&#8217;t use Docker, there are <a class="reference external" href="https://docs.mattermost.com/install/docker-local-machine.html">step-by-step instructions</a> to install Mattermost in preview mode in less than 5 minutes.</p>
</div>
<div class="section" id="supported-features">
<h3>Supported Features<a class="headerlink" href="#supported-features" title="Permalink to this headline">¶</a></h3>
<p>The following key features are supported when importing from Slack:</p>
<ul class="simple">
<li>User accounts with an email address set</li>
<li>Public channels and the text messages posted in them, with formatting</li>
<li>Channel topic and purpose</li>
<li>Imported users added automatically to their channels</li>
</ul>
<p>Messages with file attachments are imported as a message containing a link to Slack&#8217;s servers by default. The file attachments themselves can be imported to Mattermost by using the <a class="reference external" href="https://github.com/grundleborg/slack-advanced-exporter">Slack Advanced Exporter</a> tool to add them to your archive before importing it.</p>
<p>Bot and Integration messages are imported by default, but if you would like them to display with the appropriate username when imported, you should ensure that <a class="reference external" href="https://docs.mattermost.com/administration/config-settings.html#enable-integrations-to-override-usernames">Enable Integrations to Override Usernames</a> is set in <strong>System Console &gt; Integrations &gt; Custom Integrations</strong> <em>before</em> doing the import.</p>
<p>When topic-change messages, purpose-change messages, and channel name-change messages are imported from Slack, they appear in Mattermost as posts from the System user.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Slack user accounts with the same email address as existing accounts on your Mattermost server will be merged into those accounts on import.</p>
</div>
</div>
<div class="section" id="limitations">
<h3>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h3>
<p>The following limitations are present when importing from Slack:</p>
<ul class="simple">
<li>The Markdown subset used by Slack&#8217;s Posts 2.0 feature announced on September 28, 2015 is not yet supported.</li>
<li>Direct Messages and Private Channels cannot be imported. Slack does not include these messages when generating the export archive.</li>
<li>If the handle of an imported Slack channel is the same handle as a deleted Mattermost channel, then a random handle is generated for the imported Slack channel.</li>
</ul>
</div>
<div class="section" id="migrating-from-slack-using-the-mattermost-web-app">
<h3>Migrating from Slack using the Mattermost Web App<a class="headerlink" href="#migrating-from-slack-using-the-mattermost-web-app" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For larger imports, particularly those where you have used the <cite>slack-advanced-exporter tool</cite> to add Slack post attachments to the archive, it is recommended to import the Slack data using the <a class="reference external" href="https://docs.mattermost.com/administration/migrating.html#migrating-from-slack-using-the-mattermost-cli">CLI</a>.</p>
</div>
<ol class="arabic simple">
<li>Generate a Slack &#8220;Export&#8221; file from <strong>Slack &gt; Team Settings &gt; Import/Export Data &gt; Export &gt; Start Export</strong>.</li>
<li>In Mattermost go to <strong>Team Settings &gt; Import &gt; Import from Slack</strong>. Team Admin or System Admin role is required to access this menu option.</li>
<li>Click <strong>Select file</strong> to upload Slack export file and click <strong>Import</strong>.</li>
</ol>
</div>
<div class="section" id="migrating-from-slack-using-the-mattermost-cli">
<h3>Migrating from Slack using the Mattermost CLI<a class="headerlink" href="#migrating-from-slack-using-the-mattermost-cli" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Generate a Slack &#8220;Export&#8221; file from <strong>Slack &gt; Team Settings &gt; Import/Export Data &gt; Export &gt; Start Export</strong>.</p>
</li>
<li><p class="first">Run the following Mattermost CLI command, with the name of a team you have already created:</p>
<p><code class="docutils literal"><span class="pre">$</span> <span class="pre">platform</span> <span class="pre">import</span> <span class="pre">slack</span> <span class="pre">team_name</span> <span class="pre">/path/to/your-slack-export.zip</span></code></p>
</li>
</ol>
</div>
<div class="section" id="using-the-imported-team">
<h3>Using the Imported Team<a class="headerlink" href="#using-the-imported-team" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>During the import process, the emails and usernames from Slack are used to create new Mattermost accounts.</li>
<li>Slack users can activate their new Mattermost accounts by using Mattermost&#8217;s Password Reset screen with their email addresses from Slack to set new passwords for their Mattermost accounts.</li>
<li>Once logged in, Mattermost users will have access to previous Slack messages in the public channels imported from Slack.</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="changelog.html" class="btn btn-neutral float-right" title="Mattermost Changelog" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="upgrade.html" class="btn btn-neutral" title="Upgrading Mattermost Server" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, 2016, 2017 Mattermost.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
 




<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-cog">&nbsp;&nbsp;Options</span>&nbsp;
        <span class="fa fa-angle-up"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Contribute</dt>
            <dd>
                <a href="https://github.com/mattermost/docs/issues">Report a Problem</a>
            </dd>
            
            <dd>
                <a href="https://github.com/mattermost/docs/blob/master/source/administration/migrating.rst"> Edit on GitHub</a>
            </dd>
            
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.10',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/myscript.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
	<header>
	<div class="header__container">
		<div class="search__icon">
			<i class="fa fa-search"></i>
		</div>
		<a href="http://docs.mattermost.com/" class="header__logo">
			<img width="176" src="https://about.mattermost.com/wp-content/uploads/2017/03/headerlogo.svg">
		</a>
		<div class="links__icon">
			<i class="fa fa-bars"></i>
		</div>
		<ul class="header__links">
			<li><a href="https://about.mattermost.com/solutions/">Solutions</a></li>
			<li><a href="https://about.mattermost.com/features/">Features</a></li>
			<li><a class="active" href="http://docs.mattermost.com/">Documentation</a></li>
			<li><a href="https://about.mattermost.com/pricing/">Pricing</a></li>
			<li><a href="https://about.mattermost.com/contact/">Contact</a></li>
			<li><a href="https://www.mattermost.org/download/">Download</a></li>
		</ul>
		<div class="header__searchbar">
			<form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
                <input type="text" name="q" placeholder="Search by keyword" autofocus />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
		</div>
	</div>
</header>
	<script type="text/javascript">
		/* Temporary fix for the search capability. Fix has been committed to the theme's master;
		   however, waiting a new release to the theme.  This fix should remain in place until that
		   time.  sphinx_rtd_theme is current v0.1.10a0. Commit for the fix in the 
		   theme can be found at: https://github.com/snide/sphinx_rtd_theme/commit/a5e0e304
		 */
        if(DOCUMENTATION_OPTIONS) {
			DOCUMENTATION_OPTIONS.SOURCELINK_SUFFIX = '.txt' 
        }
    </script>


</body>
</html>