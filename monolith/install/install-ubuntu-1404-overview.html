


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-67846571-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installing Mattermost on Ubuntu 14.04 LTS &mdash; Mattermost 3.5 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
  

  
    <link rel="top" title="Mattermost 3.5 documentation" href="../index.html"/>
        <link rel="up" title="Mattermost Administrator’s Guide" href="../guides/administrator.html"/>
        <link rel="next" title="Local Machine Setup using Docker" href="docker-local-machine.html"/>
        <link rel="prev" title="Software &amp; Hardware Requirements" href="requirements.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Mattermost
          

          
          </a>

          
            
            
              <div class="version">
                3.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/user.html">User&#8217;s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../guides/administrator.html">Administrator&#8217;s Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../guides/administrator.html#installing-mattermost">Installing Mattermost</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="requirements.html">Software &amp; Hardware Requirements</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Installing on Ubuntu 14.04 LTS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-ubuntu-server-14-04-lts">Installing Ubuntu Server 14.04 LTS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-mysql-database-server">Installing MySQL Database Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-postgresql-database-server">Installing PostgreSQL Database Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-mattermost-server">Installing Mattermost Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-nginx-server">Installing NGINX Server</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="docker-local-machine.html">Local Machine Setup using Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker-ebs.html">AWS Elastic Beanstalk Docker Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="ee-install.html">Enterprise Install and Upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="prod-rhel-6.html">Production Install on RHEL 6.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="prod-rhel-7.html">Production Install on RHEL 7.1+</a></li>
<li class="toctree-l3"><a class="reference internal" href="prod-debian.html">Production Install on Debian Jessie</a></li>
<li class="toctree-l3"><a class="reference internal" href="prod-docker.html">Production Docker Deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="prod-ubuntu-1404.html">Production Install on Ubuntu 14.04 LTS</a></li>
<li class="toctree-l3"><a class="reference internal" href="prod-ubuntu-16.04.html">Production Install on Ubuntu 16.04 LTS</a></li>
<li class="toctree-l3"><a class="reference internal" href="smtp-email-setup.html">SMTP Email Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="i18n.html">Chinese, Korean &amp; Japanese Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="desktop.html">Desktop Application Install Guides</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#configuring-mattermost">Configuring Mattermost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#deployment">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#administration">Administration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guides/integration.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/developer.html">Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/core.html">Core Team Handbook</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Mattermost</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../guides/administrator.html">Mattermost Administrator&#8217;s Guide</a> &raquo;</li>
      
    <li>Installing Mattermost on Ubuntu 14.04 LTS</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/mattermost/docs/blob/master/source/install/install-ubuntu-1404-overview.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-mattermost-on-ubuntu-14-04-lts">
<span id="install-ubuntu-1404-overview"></span><h1>Installing Mattermost on Ubuntu 14.04 LTS<a class="headerlink" href="#installing-mattermost-on-ubuntu-14-04-lts" title="Permalink to this headline">¶</a></h1>
<p>Install a production-ready Mattermost system on 1 to 3 machines.</p>
<p>A complete Mattermost installation consists of 3 major components: a proxy server, a database server, and the Mattermost server. You can install all components on 1 machine, or you can install each component on its own machine. If you have only 2 machines, then install the proxy and the Mattermost server on one machine, and install the database on the other machine.</p>
<p>The Mattermost server must be installed on a 64-bit machine, but the database and proxy can be on 32-bit machines. For the database, you can install either MySQL or ProstgreSQL. The proxy is NGINX.</p>
<p>After all the components are installed, some configuration is required. You can set up email notifications, SSL, TSL, and HTTP/2. For more information about configuring, see <a class="reference internal" href="config-mattermost.html#config-mattermost"><span class="std std-ref">Configuring Mattermost</span></a>.</p>
<div class="contents local topic" id="install-the-components-in-the-following-order">
<p class="topic-title first">Install the components in the following order:</p>
<ul class="simple">
<li><a class="reference internal" href="#installing-ubuntu-server-14-04-lts" id="id1">Installing Ubuntu Server 14.04 LTS</a></li>
<li><a class="reference internal" href="#installing-mysql-database-server" id="id2">Installing MySQL Database Server</a></li>
<li><a class="reference internal" href="#installing-postgresql-database-server" id="id3">Installing PostgreSQL Database Server</a></li>
<li><a class="reference internal" href="#installing-mattermost-server" id="id4">Installing Mattermost Server</a></li>
<li><a class="reference internal" href="#installing-nginx-server" id="id5">Installing NGINX Server</a></li>
</ul>
</div>
<div class="section" id="installing-ubuntu-server-14-04-lts">
<h2><a class="toc-backref" href="#install-the-components-in-the-following-order">Installing Ubuntu Server 14.04 LTS</a><a class="headerlink" href="#installing-ubuntu-server-14-04-lts" title="Permalink to this headline">¶</a></h2>
<p>Install Ubuntu Server on each machine that hosts one or more of the components. In most cases you need the 64-bit version.</p>
<p>You can use the 32-bit version on a machine that hosts the database and proxy server, but the Mattermost server requires 64-bit.</p>
<p><strong>To install Ubuntu Server:</strong></p>
<ol class="arabic simple">
<li>Download the appropriate ISO image from <a class="reference external" href="http://releases.ubuntu.com/14.04.5/">http://releases.ubuntu.com/14.04.5/</a> and burn it to a CD-ROM.</li>
<li>Boot the system from the CD-ROM drive and follow the on-screen prompts.</li>
<li>After the system is installed, make sure that it&#8217;s up to date with the most recent security patches. Open a terminal window and issue the following commands:<ul>
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">update</span></code></li>
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">upgrade</span></code></li>
</ul>
</li>
</ol>
<p><strong>What to do next</strong></p>
<p>Install a database. You can install either MySQL 5.6 or PostgreSQL version 9.3 or later.</p>
<dl class="docutils">
<dt><strong>Related links</strong></dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#install-ubuntu-1404-mysql"><span class="std std-ref">Installing MySQL Database Server</span></a></li>
<li><a class="reference internal" href="install-ubuntu-1404-postgresql.html#install-ubuntu-1404-postgresql"><span class="std std-ref">Installing PostgreSQL Database Server</span></a></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="installing-mysql-database-server">
<span id="install-ubuntu-1404-mysql"></span><h2><a class="toc-backref" href="#install-the-components-in-the-following-order">Installing MySQL Database Server</a><a class="headerlink" href="#installing-mysql-database-server" title="Permalink to this headline">¶</a></h2>
<p>Mattermost supports either MySQL or PostgreSQL.</p>
<p><strong>To install MySQL 5.6 on Ubuntu Server:</strong></p>
<ol class="arabic simple">
<li>Log into the server that will host the database and open a terminal window.</li>
<li>Make sure that your package index is up to date.</li>
</ol>
<blockquote>
<div><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">update</span></code></div></blockquote>
<ol class="arabic simple" start="3">
<li>Install MySQL version 5.6.</li>
</ol>
<blockquote>
<div><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">mysql-server-5.6</span></code></div></blockquote>
<ol class="arabic simple" start="4">
<li>Log in to MySQL as root.</li>
</ol>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">mysql</span> <span class="pre">-u</span> <span class="pre">root</span> <span class="pre">-p</span></code></p>
<p>When prompted, enter the root password that you created when installing MySQL.</p>
</div></blockquote>
<ol class="arabic simple" start="5">
<li>Create the Mattermost user &#8216;mmuser&#8217;.</li>
</ol>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">mysql&gt;</span> <span class="pre">create</span> <span class="pre">user</span> <span class="pre">'mmuser'&#64;'%'</span> <span class="pre">identified</span> <span class="pre">by</span> <span class="pre">'mmuser-password';</span></code></p>
<p><strong>Notes</strong>:</p>
<ol class="arabic simple">
<li>Use a password that is more secure than &#8216;mmuser-password&#8217;</li>
<li>The &#8216;%&#8217; means that mmuser can connect from any machine on the network. However, it&#8217;s more secure to use the IP address of the machine that hosts Mattermost. For example, if you install Mattermost on the machine with IP address 10.10.10.2, then use the following command:</li>
</ol>
<p><code class="docutils literal"><span class="pre">mysql&gt;</span> <span class="pre">create</span> <span class="pre">user</span> <span class="pre">'mmuser'&#64;'10.10.10.2'</span> <span class="pre">identified</span> <span class="pre">by</span> <span class="pre">'mmuser-password';</span></code></p>
</div></blockquote>
<ol class="arabic simple" start="6">
<li>Create the Mattermost database.</li>
</ol>
<blockquote>
<div><code class="docutils literal"><span class="pre">mysql&gt;</span> <span class="pre">create</span> <span class="pre">database</span> <span class="pre">mattermost;</span></code></div></blockquote>
<ol class="arabic simple" start="7">
<li>Grant access privileges to the user &#8216;mmuser&#8217;</li>
</ol>
<blockquote>
<div><code class="docutils literal"><span class="pre">mysql&gt;</span> <span class="pre">grant</span> <span class="pre">all</span> <span class="pre">privileges</span> <span class="pre">on</span> <span class="pre">mattermost.*</span> <span class="pre">to</span> <span class="pre">'mmuser'&#64;'%';</span></code></div></blockquote>
<p><strong>What to do next</strong></p>
<p>In a production environment, you should install NGINX. Using NGINX as a proxy server increases the security and performance of your Mattermost installation.</p>
<dl class="docutils">
<dt><strong>Related links</strong></dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#install-nginx"><span class="std std-ref">Installing NGINX Server</span></a></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="installing-postgresql-database-server">
<span id="install-ubuntu-1404-postgresql"></span><h2><a class="toc-backref" href="#install-the-components-in-the-following-order">Installing PostgreSQL Database Server</a><a class="headerlink" href="#installing-postgresql-database-server" title="Permalink to this headline">¶</a></h2>
<p>Mattermost supports either PostgreSQL or MySQL.</p>
<p>Assume that the IP address of this server is 10.10.10.1</p>
<p><strong>To install PostgreSQL on Ubuntu Server:</strong></p>
<ol class="arabic">
<li><p class="first">Log into the server that will host the database and issue the following command:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">postgresql</span> <span class="pre">postgresql-contrib</span></code></li>
</ul>
</li>
<li><p class="first">PostgreSQL created a user account called <code class="docutils literal"><span class="pre">postgres</span></code>. You will need
to log into that account with:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">-i</span> <span class="pre">-u</span> <span class="pre">postgres</span></code></li>
</ul>
</li>
<li><p class="first">You can get a PostgreSQL prompt by typing:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">psql</span></code></li>
</ul>
</li>
<li><p class="first">Create the Mattermost database by typing:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">postgres=#</span> <span class="pre">CREATE</span> <span class="pre">DATABASE</span> <span class="pre">mattermost;</span></code></li>
</ul>
</li>
<li><p class="first">Create the Mattermost user by typing:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">postgres=#</span> <span class="pre">CREATE</span> <span class="pre">USER</span> <span class="pre">mmuser</span> <span class="pre">WITH</span> <span class="pre">PASSWORD</span> <span class="pre">'mmuser_password';</span></code></li>
</ul>
</li>
<li><p class="first">Grant the user access to the Mattermost database by typing:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">postgres=#</span> <span class="pre">GRANT</span> <span class="pre">ALL</span> <span class="pre">PRIVILEGES</span> <span class="pre">ON</span> <span class="pre">DATABASE</span> <span class="pre">mattermost</span> <span class="pre">to</span> <span class="pre">mmuser;</span></code></li>
</ul>
</li>
<li><p class="first">You can exit out of PostgreSQL by typing:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">postgre=#</span> <span class="pre">\q</span></code></li>
</ul>
</li>
<li><p class="first">You can exit the postgres account by typing:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">exit</span></code></li>
</ul>
</li>
<li><p class="first">Allow Postgres to listen on all assigned IP Addresses</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">vi</span> <span class="pre">/etc/postgresql/9.3/main/postgresql.conf</span></code></li>
<li>Uncomment <code class="docutils literal"><span class="pre">listen_addresses</span></code> and change <code class="docutils literal"><span class="pre">localhost</span></code> to <code class="docutils literal"><span class="pre">*</span></code></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Alter pg_hba.conf to allow the mattermost server to talk to the
postgres database</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">vi</span> <span class="pre">/etc/postgresql/9.3/main/pg_hba.conf</span></code></li>
<li>Add the following line to the <code class="docutils literal"><span class="pre">IPv4</span> <span class="pre">local</span> <span class="pre">connections</span></code></li>
<li><code class="docutils literal"><span class="pre">host</span> <span class="pre">all</span> <span class="pre">all</span> <span class="pre">10.10.10.2/32</span> <span class="pre">md5</span></code></li>
</ul>
</li>
<li><p class="first">Reload Postgres database</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">/etc/init.d/postgresql</span> <span class="pre">reload</span></code></li>
</ul>
<p>check with netstat command to see postgresql actually running on given ip and port</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">netstat</span> <span class="pre">-anp</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">5432</span></code></li>
</ul>
<p>try restarting the postgresql service if reload won&#8217;t work</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">postgresql</span> <span class="pre">restart</span></code></li>
</ul>
</li>
<li><p class="first">Attempt to connect with the new created user to verify everything
looks good</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">psql</span> <span class="pre">--host=10.10.10.1</span> <span class="pre">--dbname=mattermost</span> <span class="pre">--username=mmuser</span> <span class="pre">--password</span></code></li>
<li><code class="docutils literal"><span class="pre">mattermost=&gt;</span> <span class="pre">\q</span></code></li>
</ul>
</li>
</ol>
<p><strong>What to do next</strong></p>
<p>In a production environment, you should install NGINX. Using NGINX as a proxy server increases the security and performance of your Mattermost installation.</p>
<dl class="docutils">
<dt><strong>Related links</strong></dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#install-nginx"><span class="std std-ref">Installing NGINX Server</span></a></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="installing-mattermost-server">
<span id="install-ubuntu-1404-mattermost"></span><h2><a class="toc-backref" href="#install-the-components-in-the-following-order">Installing Mattermost Server</a><a class="headerlink" href="#installing-mattermost-server" title="Permalink to this headline">¶</a></h2>
<p>Install Mattermost Server on a 64-bit machine.</p>
<p>Assume that the IP address of this server is 10.10.10.2</p>
<p><strong>To install Mattermost Server on Ubuntu</strong></p>
<ol class="arabic">
<li><p class="first">Log into the server that will host Mattermost Server and open a terminal window.</p>
</li>
<li><p class="first">Create a mattermost user and group</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">adduser</span> <span class="pre">--system</span> <span class="pre">--group</span> <span class="pre">mattermost</span></code></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Change to the mattermost home directory.</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">cd</span> <span class="pre">/home/mattermost</span></code></p>
</div></blockquote>
</li>
<li><p class="first">Download <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#version-archive">the latest version of the Mattermost Server</a> by typing:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">wget</span> <span class="pre">https://releases.mattermost.com/X.X.X/mattermost-X.X.X-linux-amd64.tar.gz</span></code></li>
<li>Where <code class="docutils literal"><span class="pre">vX.X.X</span></code> is the latest version.</li>
</ul>
</li>
<li><p class="first">Extract the Mattermost Server files by typing:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">tar</span> <span class="pre">-xvzf</span> <span class="pre">*.gz</span></code></li>
</ul>
</li>
<li><p class="first">Change the user and group of the extracted files to mattermost</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">chown</span> <span class="pre">-R</span> <span class="pre">mattermost:mattermost</span> <span class="pre">mattermost/</span></code></li>
</ul>
</li>
<li><p class="first">Create the storage directory for files. We assume you will have
attached a large drive for storage of images and files. For this
setup we will assume the directory is located at
<code class="docutils literal"><span class="pre">/mattermost/data</span></code>.</p>
<ul class="simple">
<li>Create the directory by typing:</li>
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">mkdir</span> <span class="pre">-p</span> <span class="pre">/mattermost/data</span></code></li>
<li>Set the mattermost account as the directory owner by typing:</li>
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">chown</span> <span class="pre">-R</span> <span class="pre">mattermost:mattermost</span> <span class="pre">/mattermost</span></code></li>
</ul>
</li>
<li><p class="first">Configure Mattermost Server by editing the config.json file at
<code class="docutils literal"><span class="pre">/home/mattermost/config</span></code></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">cd</span> <span class="pre">/home/mattermost/mattermost/config</span></code></li>
<li>Edit the file by typing:</li>
<li><code class="docutils literal"><span class="pre">vi</span> <span class="pre">config.json</span></code></li>
<li>If you are using PostgreSQL:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Set <code class="docutils literal"><span class="pre">DriverName&quot;:</span></code> to <code class="docutils literal"><span class="pre">&quot;postgres&quot;</span></code></li>
<li>Set <code class="docutils literal"><span class="pre">&quot;DataSource:&quot;</span></code> to the following value: <code class="docutils literal"><span class="pre">&quot;postgres://mmuser:mmuser_password&#64;10.10.10.1:5432/mattermost?sslmode=disable&amp;connect_timeout=10&quot;</span></code></li>
</ul>
</div></blockquote>
<ul class="simple">
<li>If you are using MySQL:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Set <code class="docutils literal"><span class="pre">DriverName&quot;:</span></code> to <code class="docutils literal"><span class="pre">&quot;mysql&quot;</span></code></li>
<li>Set <code class="docutils literal"><span class="pre">&quot;DataSource&quot;:</span></code> to the following value: <code class="docutils literal"><span class="pre">&quot;mmuser:mmuser_password&#64;tcp(10.10.10.1:3306)/mattermost?charset=utf8&quot;</span></code></li>
</ul>
</div></blockquote>
<ul class="simple">
<li>You can continue to edit configuration settings in
<code class="docutils literal"><span class="pre">config.json</span></code> or use the System Console described in a later
section to finish the configuration.</li>
</ul>
</li>
<li><p class="first">Test the Mattermost Server</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">cd</span> <span class="pre">~/mattermost/bin</span></code></li>
<li>Run the Mattermost Server by typing:</li>
<li><code class="docutils literal"><span class="pre">./platform</span></code></li>
<li>You should see a console log like <code class="docutils literal"><span class="pre">Server</span> <span class="pre">is</span> <span class="pre">listening</span> <span class="pre">on</span> <span class="pre">:8065</span></code>
letting you know the service is running.</li>
<li>Stop the server for now by typing <code class="docutils literal"><span class="pre">ctrl-c</span></code></li>
</ul>
</li>
<li><p class="first">Setup Mattermost to use the Upstart daemon which handles supervision</p>
</li>
</ol>
<blockquote>
<div><p>of the Mattermost process.</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">touch</span> <span class="pre">/etc/init/mattermost.conf</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">vi</span> <span class="pre">/etc/init/mattermost.conf</span></code></p>
</li>
<li><p class="first">Copy the following lines into <code class="docutils literal"><span class="pre">/etc/init/mattermost.conf</span></code></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">start</span> <span class="n">on</span> <span class="n">runlevel</span> <span class="p">[</span><span class="mi">2345</span><span class="p">]</span>
<span class="n">stop</span> <span class="n">on</span> <span class="n">runlevel</span> <span class="p">[</span><span class="mi">016</span><span class="p">]</span>
<span class="n">respawn</span>
<span class="n">limit</span> <span class="n">nofile</span> <span class="mi">50000</span> <span class="mi">50000</span>
<span class="n">chdir</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">mattermost</span><span class="o">/</span><span class="n">mattermost</span>
<span class="n">setuid</span> <span class="n">mattermost</span>
<span class="n">exec</span> <span class="nb">bin</span><span class="o">/</span><span class="n">platform</span>
</pre></div>
</div>
</li>
<li><p class="first">You can manage the process by typing:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">start</span> <span class="pre">mattermost</span></code></p>
</li>
<li><p class="first">Verify the service is running by typing:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">curl</span> <span class="pre">http://10.10.10.2:8065</span></code></p>
</li>
<li><p class="first">You should see a page titles <em>Mattermost - Signup</em></p>
</li>
<li><p class="first">You can also stop the process by running the command
<code class="docutils literal"><span class="pre">sudo</span> <span class="pre">stop</span> <span class="pre">mattermost</span></code>, but we will skip this step for now.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="installing-nginx-server">
<span id="install-nginx"></span><h2><a class="toc-backref" href="#install-the-components-in-the-following-order">Installing NGINX Server</a><a class="headerlink" href="#installing-nginx-server" title="Permalink to this headline">¶</a></h2>
<p>In a production setting, use a proxy server for greater security and performance of Mattermost.</p>
<p>The main benefits of using a proxy are as follows:</p>
<blockquote>
<div><ul class="simple">
<li>SSL termination</li>
<li>HTTP to HTTPS redirect</li>
<li>Port mapping <code class="docutils literal"><span class="pre">:80</span></code> to <code class="docutils literal"><span class="pre">:8065</span></code></li>
<li>Standard request logs</li>
</ul>
</div></blockquote>
<p><strong>To install NGINX on Ubuntu Server:</strong></p>
<ol class="arabic simple">
<li>Log into the server that will host the proxy and open a terminal window.</li>
<li>Make sure that your package index is up to date.</li>
</ol>
<blockquote>
<div><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">update</span></code></div></blockquote>
<ol class="arabic simple" start="3">
<li>Install NGINX.</li>
</ol>
<blockquote>
<div><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">nginx</span></code></div></blockquote>
<ol class="arabic simple" start="4">
<li>After the installation is complete, verify that NGINX is running.</li>
</ol>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">curl</span> <span class="pre">http://localhost</span></code></p>
<p>If NGINX is running, you see the following output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Welcome to nginx!<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
.
.
.
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">em</span><span class="p">&gt;</span>Thank you for using nginx.<span class="p">&lt;/</span><span class="nt">em</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You can stop, start, and restart NGINX with the following commands:</p>
<div class="last highlight-none"><div class="highlight"><pre><span></span>sudo service nginx stop
sudo service nginx start
sudo service nginx restart
</pre></div>
</div>
</div>
<p><strong>What to do next</strong></p>
<ol class="arabic simple">
<li>Map a fully qualified domain name (FQDN) such as <code class="docutils literal"><span class="pre">mattermost.example.com</span></code> to point to the NGINX server.</li>
<li>Configure NGINX to proxy connections from the internet to the Mattermost Server.</li>
</ol>
<dl class="docutils">
<dt><strong>Related links</strong></dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="config-proxy-nginx.html#config-proxy-nginx"><span class="std std-ref">Configuring NGINX as a proxy for Mattermost Server</span></a></li>
</ul>
</dd>
</dl>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="docker-local-machine.html" class="btn btn-neutral float-right" title="Local Machine Setup using Docker" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="requirements.html" class="btn btn-neutral" title="Software &amp; Hardware Requirements" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, 2016 Mattermost.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
 




<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-cog">&nbsp;&nbsp;Options</span>&nbsp;
        <span class="fa fa-angle-up"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Contribute</dt>
            <dd>
                <a href="https://github.com/mattermost/docs/issues">Report a Problem</a>
            </dd>
            
            <dd>
                <a href="https://github.com/mattermost/docs/blob/master/source/install/install-ubuntu-1404-overview.rst"> Edit on GitHub</a>
            </dd>
            
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/myscript.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
	<header>
	<div class="header__container">
		<a href="http://docs.mattermost.com/" class="header__logo">
			<img width="176" src="https://about.mattermost.com/wp-content/uploads/2016/01/logo.png">
		</a>
		<div class="links__icon">
			<i class="fa fa-bars"></i>
		</div>
		<ul class="header__links">
			<li><a href="https://about.mattermost.com/solutions/">Solutions</a></li>
			<li><a href="https://about.mattermost.com/features/">Features</a></li>
			<li><a class="active" href="http://docs.mattermost.com/">Documentation</a></li>
			<li><a href="https://about.mattermost.com/pricing/">Pricing</a></li>
			<li><a href="https://about.mattermost.com/contact/">Contact</a></li>
			<li><a href="https://www.mattermost.org/download/">Download</a></li>
		</ul>
	</div>
</header>


</body>
</html>