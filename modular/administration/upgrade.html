


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-67846571-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Upgrade Guide &mdash; Mattermost 3.5 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
  

  
    <link rel="top" title="Mattermost 3.5 documentation" href="../index.html"/>
        <link rel="up" title="Mattermost Administrator’s Guide" href="../guides/administrator.html"/>
        <link rel="next" title="Migration Guide" href="migrating.html"/>
        <link rel="prev" title="Backup &amp; Disaster Recovery" href="backup.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Mattermost
          

          
          </a>

          
            
            
              <div class="version">
                3.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/user.html">User&#8217;s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../guides/administrator.html">Mattermost Administrator&#8217;s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#installing-mattermost">Installing Mattermost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#configuring-mattermost">Configuring Mattermost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#deployment">Deployment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../guides/administrator.html#administration">Administration</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="command-line-tools.html">Command Line Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="config-settings.html">Configuration Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="statistics.html">Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="compliance.html">Compliance Reporting and Oversight</a></li>
<li class="toctree-l3"><a class="reference internal" href="branding.html">Custom Branding Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup.html">Backup &amp; Disaster Recovery</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Upgrade Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#upgrade-team-edition">Upgrade Team Edition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upgrade-team-edition-to-enterprise-edition">Upgrade Team Edition to Enterprise Edition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upgrade-enterprise-edition">Upgrade Enterprise Edition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#version-archive">Version Archive</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="migrating.html">Migration Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guides/administrator.html#changelog">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/integration.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/developer.html">Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/core.html">Core Team Handbook</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Mattermost</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../guides/administrator.html">Mattermost Administrator&#8217;s Guide</a> &raquo;</li>
      
    <li>Upgrade Guide</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/mattermost/docs/blob/master/source/administration/upgrade.md" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="upgrade-guide">
<span id="upgrade-guide"></span><h1>Upgrade Guide<a class="headerlink" href="#upgrade-guide" title="Permalink to this headline">¶</a></h1>
<p>This guide explains how to upgrade your Mattermost deployment across versions and editions.</p>
<p>To start, select one of the following guides:</p>
<ul class="simple">
<li><a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-team-edition">Upgrade Team Edition</a><ul>
<li><a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-team-edition-to-3-1-x-and-later">Upgrade Team Edition to 3.1.x and later</a></li>
<li><a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-team-edition-to-3-0-x">Upgrade Team Edition to 3.0.x</a></li>
<li><a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-team-edition-for-2-2-x-and-earlier">Upgrade Team Edition for 2.2.x and earlier</a></li>
</ul>
</li>
<li><a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-enterprise-edition">Upgrade Enterprise Edition</a><ul>
<li><a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-enterprise-edition-to-3-1-x-and-later">Upgrade Enterprise Edition to 3.1.x and later</a></li>
<li><a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-to-enterprise-edition-3-0-x">Upgrade to Enterprise Edition 3.0.x</a></li>
<li><a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-enterprise-edition-to-2-2-x-and-earlier">Upgrade Enterprise Edition to 2.2.x and earlier</a></li>
</ul>
</li>
<li><a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-team-edition-to-enterprise-edition">Upgrade Team Edition to Enterprise Edition</a></li>
</ul>
<div class="section" id="upgrade-team-edition">
<span id="upgrade-team-edition"></span><h2>Upgrade Team Edition<a class="headerlink" href="#upgrade-team-edition" title="Permalink to this headline">¶</a></h2>
<div class="section" id="upgrade-team-edition-to-3-1-x-and-later">
<span id="upgrade-team-edition-to-3-1-x-and-later"></span><h3>Upgrade Team Edition to 3.1.x and later<a class="headerlink" href="#upgrade-team-edition-to-3-1-x-and-later" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li>Download the <strong>appropriate next upgrade</strong> of your Team Edition server and note any compatibility procedures<ol>
<li>Run <code class="docutils literal"><span class="pre">platform</span> <span class="pre">-version</span></code> to check the current version of your Mattermost server</li>
<li>Determine the appropriate next upgrade for your server:<ul>
<li>Mattermost <code class="docutils literal"><span class="pre">v3.0.x</span></code> and later can upgrade directly to Mattermost <code class="docutils literal"><span class="pre">v3.5.x</span></code><ul>
<li>Note: If public links are enabled, upgrading from <code class="docutils literal"><span class="pre">v3.3.x</span></code> and earlier to <code class="docutils literal"><span class="pre">v3.4.x</span></code> and later will invalidate existing public links due to a security upgrade allowing admins to invalidate links by resetting a public link salt from the System Console.</li>
<li>Note: RHEL6 and Ubuntu installations must verify the line <code class="docutils literal"><span class="pre">limit</span> <span class="pre">nofile</span> <span class="pre">50000</span> <span class="pre">50000</span></code> is included in <code class="docutils literal"><span class="pre">/etc/init/mattermost.conf</span></code> file. See the <a class="reference external" href="https://docs.mattermost.com/guides/administrator.html#install-guides">installation guide</a> for your operating system for more details.</li>
<li>Note: RHEL7 and Debian installations must verify the line <code class="docutils literal"><span class="pre">LimitNOFILE=49152</span></code> is included in the <code class="docutils literal"><span class="pre">/etc/systemd/system/mattermost.service</span></code> file. See the <a class="reference external" href="https://docs.mattermost.com/guides/administrator.html#install-guides">installation guide</a> for your operating system for more details.</li>
</ul>
</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v2.2.x</span></code> can upgrade directly to <code class="docutils literal"><span class="pre">v3.1.x</span></code> or <code class="docutils literal"><span class="pre">v3.2.x</span></code> but must follow the <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-team-edition-to-3-0-x">extended upgrade guide for <code class="docutils literal"><span class="pre">v3.0.x</span></code></a></li>
<li>Mattermost <code class="docutils literal"><span class="pre">v2.1.x</span></code> and below must follow the process to <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-team-edition-to-3-0-x">upgrade to <code class="docutils literal"><span class="pre">v3.0.x</span></code></a> before upgrading further</li>
</ul>
</li>
<li>Use the <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#version-archive">Version Archive table</a> to find the <code class="docutils literal"><span class="pre">[RELEASE</span> <span class="pre">URL]</span></code> for your desired version and enter <code class="docutils literal"><span class="pre">wget</span> <span class="pre">[RELEASE</span> <span class="pre">URL]</span></code> to download. For example, to download <code class="docutils literal"><span class="pre">vX.X.X</span></code>, use <code class="docutils literal"><span class="pre">wget</span> <span class="pre">https://releases.mattermost.com/X.X.X/mattermost-team-X.X.X-linux-amd64.tar.gz</span></code>.</li>
<li>Review <strong>Compatibility</strong> section in <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html">CHANGELOG</a> for the version downloaded and make sure to follow any instructions.</li>
</ol>
</li>
<li>Stop the Mattermost Server<ol>
<li>Consider posting an announcement to active teams about stopping the Mattermost server for an upgrade.</li>
<li>To stop the server run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">stop</span> <span class="pre">mattermost</span></code>.</li>
</ol>
</li>
<li>Backup your data<ol>
<li>Back up your <code class="docutils literal"><span class="pre">config.json</span></code> file, which contains your system configuration. This will be used to restore your current settings after the new version is installed.</li>
<li>Backup your database using your organization&#8217;s standard procedures for backing up MySQL or PostgreSQL.</li>
<li>If you&#8217;re using local file storage, back up the location where files are stored.</li>
</ol>
</li>
<li>Install new version<ol>
<li>Run <code class="docutils literal"><span class="pre">tar</span> <span class="pre">-xvzf</span> <span class="pre">mattermost-team-X.X.X-linux-amd64.tar.gz</span></code> to decompress the upgraded version and replace the current version of Mattermost on disk, where <code class="docutils literal"><span class="pre">X.X.X</span></code> is the version number to which you are upgrading.</li>
</ol>
</li>
<li>Restore the state of your server<ol>
<li>Copy the backed up version of <code class="docutils literal"><span class="pre">config.json</span></code> in place of the default <code class="docutils literal"><span class="pre">config.json</span></code>.</li>
</ol>
</li>
<li>Start your server and address any setting changes relevant in the latest version of Mattermost<ol>
<li>Run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">start</span> <span class="pre">mattermost</span></code>.</li>
<li>Opening the <strong>System Console</strong> and saving a change will upgrade your <code class="docutils literal"><span class="pre">config.json</span></code> schema to the latest version using default values for any new settings added.</li>
</ol>
</li>
<li>Test the system is working by going to the URL of an existing team.
You may need to refresh your Mattermost browser page in order to get the latest updates from the upgrade.</li>
</ol>
</div>
<div class="section" id="upgrade-team-edition-to-3-0-x">
<span id="upgrade-team-edition-to-3-0-x"></span><h3>Upgrade Team Edition to 3.0.x<a class="headerlink" href="#upgrade-team-edition-to-3-0-x" title="Permalink to this headline">¶</a></h3>
<p>Mattermost 3.0 lets users maintain a single account across multiple teams on a Mattermost server. This means one set of credentials, one place to configure all account settings, and a more streamlined sign-up and team joining process.</p>
<div class="section" id="special-instructions-for-2-x-servers-with-duplicate-accounts">
<span id="special-instructions-for-2-x-servers-with-duplicate-accounts"></span><h4>Special instructions for 2.x servers with duplicate accounts<a class="headerlink" href="#special-instructions-for-2-x-servers-with-duplicate-accounts" title="Permalink to this headline">¶</a></h4>
<p>If your Mattermost server has duplicate accounts (users with multiple accounts in multiple teams with the same email address or username), you need to understand the 3.0 upgrade process in detail and take special steps to upgrade successfully.</p>
<ol class="simple">
<li>Download Mattermost Team Edition 3.0.3<ol>
<li>Run <code class="docutils literal"><span class="pre">platform</span> <span class="pre">-version</span></code> to confirm the current version of your Mattermost server is <code class="docutils literal"><span class="pre">v2.2.0</span></code>, <code class="docutils literal"><span class="pre">v2.1.0</span></code>, or <code class="docutils literal"><span class="pre">v2.0.0</span></code>. If not, please <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-team-edition-for-2-2-x-and-earlier">upgrade to <code class="docutils literal"><span class="pre">v2.0.0</span></code></a>.</li>
<li>Run <code class="docutils literal"><span class="pre">wget</span> <span class="pre">https://releases.mattermost.com/X.X.X/mattermost-team-X.X.X-linux-amd64.tar.gz</span></code> to download the appropriate new version.</li>
</ol>
</li>
<li>Stop the Mattermost Server<ol>
<li>Consider posting an announcement to active teams about stopping the Mattermost server for an upgrade</li>
<li>To stop the server run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">stop</span> <span class="pre">mattermost</span></code></li>
</ol>
</li>
<li>Backup your data<ol>
<li>Back up your <code class="docutils literal"><span class="pre">config.json</span></code> file, which contains your system configuration. This will be used to restore your current settings after the new version is installed.</li>
<li>Backup your database using your organization&#8217;s standard procedures for backing up MySQL or PostgreSQL.</li>
<li>If you&#8217;re using local file storage, back up the location where files are stored. This location is specified in the <code class="docutils literal"><span class="pre">config.json</span></code> file under <code class="docutils literal"><span class="pre">FileSettings</span></code> &gt; <code class="docutils literal"><span class="pre">Directory</span></code>.</li>
<li>Verify your backups are successful.</li>
</ol>
</li>
<li>Install new version<ol>
<li>Double check that your database and configuration file has been backed up, as the database upgrade to 3.x from 2.x cannot be reversed.</li>
<li>Run <code class="docutils literal"><span class="pre">tar</span> <span class="pre">-xvzf</span> <span class="pre">mattermost-team-X.X.X-linux-amd64.tar.gz</span></code> to decompress the upgraded version and replace the current version of Mattermost on disk, where <code class="docutils literal"><span class="pre">X.X.X</span></code> is the version number to which you are upgrading.</li>
</ol>
</li>
<li>Restore the state of your server<ol>
<li>Copy the backed up version of <code class="docutils literal"><span class="pre">config.json</span></code> in place of the default <code class="docutils literal"><span class="pre">config.json</span></code>.</li>
<li>If you&#8217;re using local file storage, restore the data you backed up before running the server. Keep the backup until you&#8217;re sure the upgrade has succeeded.</li>
</ol>
</li>
<li>Upgrade your database<ol>
<li>Run <code class="docutils literal"><span class="pre">./platform</span> <span class="pre">-upgrade_db_30</span></code> to upgrade your database from 2.x to 3.x<ul>
<li>You may need to run with <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">-u</span> <span class="pre">linux_user_account</span> <span class="pre">./platform</span> <span class="pre">-upgrade_db_30</span></code> if you&#8217;ve setup Mattermost to run under a different account.  This will ensure files under <code class="docutils literal"><span class="pre">./data/</span></code> have the correct permissions.</li>
<li>You will be asked <code class="docutils literal"><span class="pre">Have</span> <span class="pre">you</span> <span class="pre">performed</span> <span class="pre">a</span> <span class="pre">database</span> <span class="pre">backup?</span> <span class="pre">(YES/NO):</span></code><ul>
<li>If you have not backed up your database, enter <code class="docutils literal"><span class="pre">NO</span></code> and then backup your database</li>
<li>If you have verified your database has been backed up, enter <code class="docutils literal"><span class="pre">YES</span></code></li>
</ul>
</li>
<li>You will be asked to select a <code class="docutils literal"><span class="pre">primary</span> <span class="pre">team</span></code>.<ul>
<li>If you only have one team, enter the name of the team.</li>
<li>If you have more than one team, specify the <code class="docutils literal"><span class="pre">primary</span> <span class="pre">team</span></code> based on the team you use the most.<ul>
<li>If your server contains duplicate accounts (multiple accounts with either the same email addresses or the same usernames) the user account in the <code class="docutils literal"><span class="pre">primary</span> <span class="pre">team</span></code> will be considered the primary account and remain unchanged.<ul>
<li>When the server finds a duplicate account not in the <code class="docutils literal"><span class="pre">primary</span> <span class="pre">team</span></code> the email address of the account may be changed to avoid conflicts<ul>
<li>An account with a <strong>duplicate email address</strong> will be updated so <code class="docutils literal"><span class="pre">+[TEAM_URL_NAME]</span></code> is appended to the local part of the email address. For example: An account with a duplicate email <code class="docutils literal"><span class="pre">steve&#64;company.com</span></code> in the team at URL <code class="docutils literal"><span class="pre">https://mattermost.company.com/marketing</span></code> becomes <code class="docutils literal"><span class="pre">steve+marketing&#64;company.com</span></code>. The <code class="docutils literal"><span class="pre">+marketing</span></code> used in this procedure is part of the RFC5233 email specification and most email systems will properly route <code class="docutils literal"><span class="pre">steve+marketing&#64;company.com</span></code> to <code class="docutils literal"><span class="pre">steve&#64;company.com</span></code>. After the upgrade, if email authentication is used for sign-in, the user would need to sign-in with the new email address.</li>
<li>An account with a <strong>duplicate username</strong> will be updated so <code class="docutils literal"><span class="pre">[TEAM_URL_NAME].</span></code>” is prepended to the username. For example: An account with a duplicate username <code class="docutils literal"><span class="pre">steve</span></code> in the team at URL <code class="docutils literal"><span class="pre">https://mattermost.company.com/marketing</span></code> becomes <code class="docutils literal"><span class="pre">marketing.steve</span></code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Users with accounts containing duplicate emails or usernames will receive a notification email explaining the upgrade, and instructions on how to move to a single user account (<a class="reference external" href="https://www.mattermost.org/upgrade-to-3-0/">see example</a>)</li>
</ul>
</li>
</ol>
</li>
<li>Start your server and address any setting changes relevant in the latest version of Mattermost<ol>
<li>Run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">start</span> <span class="pre">mattermost</span></code>.</li>
<li>Opening the <strong>System Console</strong> and saving a change will upgrade your <code class="docutils literal"><span class="pre">config.json</span></code> schema to the latest version using default values for any new settings added.</li>
</ol>
</li>
<li>Test the system is working by going to the URL of an existing team.<ol>
<li>You may need to refresh your Mattermost browser page in order to get the latest updates from the upgrade.</li>
</ol>
</li>
<li>After the Mattermost 3.0 upgrade users with duplicate accounts can follow instructions in the upgrade email they received to login to teams on which the duplicate accounts were created and add their primary account to the team and any private groups that are still actively used. Users can continue to access the direct message history of their duplicate accounts using their updated email addresses.</li>
</ol>
</div>
</div>
<div class="section" id="upgrade-team-edition-for-2-2-x-and-earlier">
<span id="upgrade-team-edition-for-2-2-x-and-earlier"></span><h3>Upgrade Team Edition for 2.2.x and earlier<a class="headerlink" href="#upgrade-team-edition-for-2-2-x-and-earlier" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li>Download the <strong>appropriate next upgrade</strong> of your Team Edition server and note any compatibility procedures<ol>
<li>Run <code class="docutils literal"><span class="pre">platform</span> <span class="pre">-version</span></code> to check the current version of your Mattermost server</li>
<li>Determine the appropriate next upgrade for your server:<ul>
<li>Mattermost <code class="docutils literal"><span class="pre">v2.0.x</span></code> and <code class="docutils literal"><span class="pre">v2.1.x</span></code> can upgrade directly to Mattermost <code class="docutils literal"><span class="pre">v2.2.x</span></code>.</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v1.4.x</span></code> and <code class="docutils literal"><span class="pre">v2.0.x</span></code> can upgrade directly to Mattermost <code class="docutils literal"><span class="pre">v2.1.x</span></code>.</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v1.2.x</span></code> must upgrade to Mattermost <code class="docutils literal"><span class="pre">v1.3.x</span></code> before further upgrades.</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v1.1.x</span></code> must upgrade to Mattermost <code class="docutils literal"><span class="pre">v1.2.x</span></code> before further upgrades.</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v1.0.x</span></code> must upgrade to Mattermost <code class="docutils literal"><span class="pre">v1.1.x</span></code> before further upgrades.</li>
</ul>
</li>
<li>Use the <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#version-archive">Version Archive List</a> to find the <code class="docutils literal"><span class="pre">[RELEASE</span> <span class="pre">URL]</span></code> for your desired version and enter <code class="docutils literal"><span class="pre">wget</span> <span class="pre">[RELEASE</span> <span class="pre">URL]</span></code> to download. For example, to download <code class="docutils literal"><span class="pre">vX.X.X</span></code>, use <code class="docutils literal"><span class="pre">wget</span> <span class="pre">https://releases.mattermost.com/X.X.X/mattermost-team-X.X.X-linux-amd64.tar.gz</span></code>.</li>
<li>Review <strong>Compatibility</strong> section in <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html">CHANGELOG</a> for the version downloaded and make sure to follow any instructions.</li>
</ol>
</li>
<li>Stop the Mattermost Server<ol>
<li>Consider posting an announcement to active teams about stopping the Mattermost server for an upgrade.</li>
<li>To stop the server run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">stop</span> <span class="pre">mattermost</span></code>.</li>
</ol>
</li>
<li>Backup your data<ol>
<li>Back up your <code class="docutils literal"><span class="pre">config.json</span></code> file, which contains your system configuration. This will be used to restore your current settings after the new version is installed.</li>
<li>Backup your database using your organization&#8217;s standard procedures for backing up MySQL or PostgreSQL.</li>
<li>If you&#8217;re using local file storage, back up the location where files are stored.</li>
</ol>
</li>
<li>Install new version<ol>
<li>Run <code class="docutils literal"><span class="pre">tar</span> <span class="pre">-xvzf</span> <span class="pre">mattermost-team-X.X.X-linux-amd64.tar.gz</span></code> to decompress the upgraded version and replace the current version of Mattermost on disk, where <code class="docutils literal"><span class="pre">X.X.X</span></code> is the version number to which you are upgrading.</li>
</ol>
</li>
<li>Restore the state of your server<ol>
<li>Copy the backed up version of <code class="docutils literal"><span class="pre">config.json</span></code> in place of the default <code class="docutils literal"><span class="pre">config.json</span></code>.</li>
</ol>
</li>
<li>Start your server and address any setting changes relevant in the latest version of Mattermost<ol>
<li>Run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">start</span> <span class="pre">mattermost</span></code>.</li>
<li>Opening the <strong>System Console</strong> and saving a change will upgrade your <code class="docutils literal"><span class="pre">config.json</span></code> schema to the latest version using default values for any new settings added.</li>
</ol>
</li>
<li>Test the system is working by going to the URL of an existing team.
You may need to refresh your Mattermost browser page in order to get the latest updates from the upgrade.</li>
</ol>
</div>
</div>
<div class="section" id="upgrade-team-edition-to-enterprise-edition">
<span id="upgrade-team-edition-to-enterprise-edition"></span><h2>Upgrade Team Edition to Enterprise Edition<a class="headerlink" href="#upgrade-team-edition-to-enterprise-edition" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li>Confirm you have the latest version of Mattermost Team Edition installed<ol>
<li>Run <code class="docutils literal"><span class="pre">platform</span> <span class="pre">-version</span></code> to check the current version of your Mattermost server and compare the version with the latest release listed on https://mattermost.org/download.</li>
<li>If it is not the latest release, <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-team-edition-to-3-1-x-and-later">upgrade to the latest release.</a></li>
</ol>
</li>
<li>Follow the <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-enterprise-edition">Enterprise Edition upgrade procedure</a> to replace the Team Edition binary with the <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#mattermost-enterprise-edition">latest Mattermost Enterprise Edition build</a> (in the format <code class="docutils literal"><span class="pre">https://releases.mattermost.com/X.X.X/mattermost-X.X.X-linux-amd64.tar.gz</span></code>).</li>
<li>Run <code class="docutils literal"><span class="pre">platform</span> <span class="pre">-version</span></code> to confirm the latest Enterprise Edition version has been successfully installed.</li>
<li>In the <strong>System Console</strong>, go to <strong>OTHER</strong> &gt; <strong>Edition and License</strong> &gt; <strong>License Key</strong> and upload the license key file you received via email.</li>
<li>Reset the Mattermost account as the directory owner by typing:</li>
</ol>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">chown</span> <span class="pre">-R</span> <span class="pre">mattermost:mattermost</span> <span class="pre">&lt;path-to-your-mattermost-folder&gt;</span></code></li>
<li><code class="docutils literal"><span class="pre">sudo</span> <span class="pre">chmod</span> <span class="pre">-R</span> <span class="pre">g+w</span> <span class="pre">&lt;path-to-your-mattermost-folder&gt;</span></code></li>
</ul>
<ol class="simple">
<li>To ensure client applications don&#8217;t encounter issues with out-of-sync caches, you can force clients to refresh after a server upgrade by changing any setting in the System Console. For example, go to <strong>System Console</strong> &gt; <strong>General</strong> &gt; <strong>Configuration</strong>, and copy the Listen Address. Then paste the Listen Address back into the field, and press <strong>Save</strong>.</li>
</ol>
<p>The <strong>Edition</strong> and <strong>License</strong> sections on the page should update to confirm your system has been updated to the Enterprise Edition.</p>
<p>For any issues, Mattermost Enterprise Edition subscribers and trial license users can email support&#64;mattermost.com</p>
</div>
<div class="section" id="upgrade-enterprise-edition">
<span id="upgrade-enterprise-edition"></span><h2>Upgrade Enterprise Edition<a class="headerlink" href="#upgrade-enterprise-edition" title="Permalink to this headline">¶</a></h2>
<div class="section" id="upgrade-enterprise-edition-to-3-1-x-and-later">
<span id="upgrade-enterprise-edition-to-3-1-x-and-later"></span><h3>Upgrade Enterprise Edition to 3.1.x and later<a class="headerlink" href="#upgrade-enterprise-edition-to-3-1-x-and-later" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li>Download the <strong>appropriate next upgrade</strong> of your Team Edition server and note any compatibility procedures<ol>
<li>Run <code class="docutils literal"><span class="pre">platform</span> <span class="pre">-version</span></code> to check the current version of your Mattermost server</li>
<li>Determine the appropriate next upgrade for your server:<ul>
<li>Mattermost <code class="docutils literal"><span class="pre">v3.0.x</span></code> and later can upgrade directly to Mattermost <code class="docutils literal"><span class="pre">v3.5.x</span></code><ul>
<li>Note: If public links are enabled, upgrading from <code class="docutils literal"><span class="pre">v3.3.x</span></code> and earlier to <code class="docutils literal"><span class="pre">v3.4.x</span></code> and later will invalidate existing public links due to a security upgrade allowing admins to invalidate links by resetting a public link salt from the System Console.</li>
<li>Note: RHEL6 and Ubuntu installations must verify the line <code class="docutils literal"><span class="pre">limit</span> <span class="pre">nofile</span> <span class="pre">50000</span> <span class="pre">50000</span></code> is included in <code class="docutils literal"><span class="pre">/etc/init/mattermost.conf</span></code> file. See the <a class="reference external" href="https://docs.mattermost.com/guides/administrator.html#install-guides">installation guide</a> for your operating system for more details.</li>
<li>Note: RHEL7 and Debian installations must verify the line <code class="docutils literal"><span class="pre">LimitNOFILE=49152</span></code> is included in the <code class="docutils literal"><span class="pre">/etc/systemd/system/mattermost.service</span></code> file. See the <a class="reference external" href="https://docs.mattermost.com/guides/administrator.html#install-guides">installation guide</a> for your operating system for more details.</li>
</ul>
</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v2.2.x</span></code> can upgrade directly to <code class="docutils literal"><span class="pre">v3.1</span></code> or <code class="docutils literal"><span class="pre">v3.2</span></code> but must follow the <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-to-enterprise-edition-3-0-x">extended upgrade guide for <code class="docutils literal"><span class="pre">v3.0.x</span></code></a><ul>
<li>Note: For <code class="docutils literal"><span class="pre">v3.2.x</span></code> only, <code class="docutils literal"><span class="pre">&quot;BindUsername&quot;</span></code>, and <code class="docutils literal"><span class="pre">&quot;BindPassword&quot;</span></code> under <code class="docutils literal"><span class="pre">LdapSettings</span></code> are required fields with anonymous bind not supported. For <code class="docutils literal"><span class="pre">v3.2.x</span></code> and <code class="docutils literal"><span class="pre">v3.3.x</span></code> only, <code class="docutils literal"><span class="pre">&quot;FirstNameAttribute&quot;</span></code> and <code class="docutils literal"><span class="pre">&quot;LastNameAttribute&quot;</span></code> under <code class="docutils literal"><span class="pre">LdapSettings</span></code> are required fields.</li>
</ul>
</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v2.1.x</span></code> and below must follow the process to <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-to-enterprise-edition-3-0-x">upgrade to <code class="docutils literal"><span class="pre">v3.0.x</span></code></a> before upgrading further</li>
</ul>
</li>
<li>Use the <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#version-archive">Version Archive List</a> to find the <code class="docutils literal"><span class="pre">[RELEASE</span> <span class="pre">URL]</span></code> for your desired version and enter <code class="docutils literal"><span class="pre">wget</span> <span class="pre">[RELEASE</span> <span class="pre">URL]</span></code> to download. For example, to download <code class="docutils literal"><span class="pre">vX.X.X</span></code>, use <code class="docutils literal"><span class="pre">wget</span> <span class="pre">https://releases.mattermost.com/X.X.X/mattermost-X.X.X-linux-amd64.tar.gz</span></code>.</li>
<li>Review <strong>Compatibility</strong> section in <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html">CHANGELOG</a> for the version downloaded and make sure to follow any instructions.</li>
</ol>
</li>
<li>Stop the Mattermost Server<ol>
<li>Consider posting an announcement to active teams about stopping the Mattermost server for an upgrade.</li>
<li>To stop the server run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">stop</span> <span class="pre">mattermost</span></code>.</li>
</ol>
</li>
<li>Backup your data<ol>
<li>Back up your <code class="docutils literal"><span class="pre">config.json</span></code> file, which contains your system configuration. This will be used to restore your current settings after the new version is installed.</li>
<li>Backup your database using your organization&#8217;s standard procedures for backing up MySQL or PostgreSQL.</li>
<li>If you&#8217;re using local file storage, back up the location where files are stored.</li>
</ol>
</li>
<li>Install new version<ol>
<li>Run <code class="docutils literal"><span class="pre">tar</span> <span class="pre">-xvzf</span> <span class="pre">mattermost-X.X.X-linux-amd64.tar.gz</span></code> to decompress the upgraded version and replace the current version of Mattermost on disk, where <code class="docutils literal"><span class="pre">X.X.X</span></code> is the version number to which you are upgrading.</li>
</ol>
</li>
<li>Restore the state of your server<ol>
<li>Copy the backed up version of <code class="docutils literal"><span class="pre">config.json</span></code> in place of the default <code class="docutils literal"><span class="pre">config.json</span></code>.</li>
</ol>
</li>
<li>Start your server and address any setting changes relevant in the latest version of Mattermost<ol>
<li>Run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">start</span> <span class="pre">mattermost</span></code>.</li>
<li>Opening the <strong>System Console</strong> and saving a change will upgrade your <code class="docutils literal"><span class="pre">config.json</span></code> schema to the latest version using default values for any new settings added.</li>
</ol>
</li>
<li>Test the system is working by going to the URL of an existing team.
You may need to refresh your Mattermost browser page in order to get the latest updates from the upgrade.</li>
</ol>
</div>
<div class="section" id="upgrade-to-enterprise-edition-3-0-x">
<span id="upgrade-to-enterprise-edition-3-0-x"></span><h3>Upgrade to Enterprise Edition 3.0.x<a class="headerlink" href="#upgrade-to-enterprise-edition-3-0-x" title="Permalink to this headline">¶</a></h3>
<p>Mattermost 3.0 lets users maintain a single account across multiple teams on a Mattermost server. This means one set of credentials, one place to configure all account settings, and a more streamlined sign-up and team joining process.</p>
<div class="section" id="special-instructions-for-2-x-servers-with-duplicate-accounts">
<span id="id1"></span><h4>Special instructions for 2.x servers with duplicate accounts<a class="headerlink" href="#special-instructions-for-2-x-servers-with-duplicate-accounts" title="Permalink to this headline">¶</a></h4>
<p>If your Mattermost server has duplicate accounts (users with multiple accounts in multiple teams with the same email address or username), you need to understand the 3.0 upgrade process in detail and take special steps to upgrade successfully.</p>
<ol class="simple">
<li>Download Mattermost Enterprise Edition 3.0.3<ol>
<li>Run <code class="docutils literal"><span class="pre">platform</span> <span class="pre">-version</span></code> to confirm the current version of your Mattermost server is <code class="docutils literal"><span class="pre">v2.2.0</span></code>, <code class="docutils literal"><span class="pre">v2.1.1</span></code>, or <code class="docutils literal"><span class="pre">v2.0.0</span></code> of either Mattermost Enteprrise Edition or Mattermost Team Edition. If not, please <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#upgrade-enterprise-edition-to-2-2-x-and-earlier">upgrade to at least Mattermost Enterprise Edition <code class="docutils literal"><span class="pre">v2.0.0</span></code></a>.</li>
<li>Run <code class="docutils literal"><span class="pre">wget</span> <span class="pre">https://releases.mattermost.com/X.X.X/mattermost-X.X.X-linux-amd64.tar.gz</span></code> to download the appropriate new version.</li>
</ol>
</li>
<li>Stop the Mattermost Server<ol>
<li>Consider posting an announcement to active teams about stopping the Mattermost server for an upgrade</li>
<li>To stop the server run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">stop</span> <span class="pre">mattermost</span></code></li>
</ol>
</li>
<li>Backup your data<ol>
<li>Back up your <code class="docutils literal"><span class="pre">config.json</span></code> file, which contains your system configuration. This will be used to restore your current settings. after the new version is installed.</li>
<li>Backup your database using your organization&#8217;s standard procedures for backing up MySQL or PostgreSQL.</li>
<li>If you&#8217;re using local file storage, back up the location where files are stored.</li>
<li>Verify your backups are successful.</li>
</ol>
</li>
<li>Install new version<ol>
<li>Double check that your database and configuration file has been backed up, as the database upgrade to 3.x from 2.x cannot be reversed.</li>
<li>Run <code class="docutils literal"><span class="pre">tar</span> <span class="pre">-xvzf</span> <span class="pre">mattermost-X.X.X-linux-amd64.tar.gz</span></code> to decompress the upgraded version and replace the current version of Mattermost on disk, where <code class="docutils literal"><span class="pre">X.X.X</span></code> is the version number to which you are upgrading.</li>
</ol>
</li>
<li>Restore the state of your server<ol>
<li>Copy the backed up version of <code class="docutils literal"><span class="pre">config.json</span></code> in place of the default <code class="docutils literal"><span class="pre">config.json</span></code>.</li>
</ol>
</li>
<li>Upgrade your database<ol>
<li>Run <code class="docutils literal"><span class="pre">./platform</span> <span class="pre">-upgrade_db_30</span></code> to upgrade your database from 2.x to 3.x<ul>
<li>You may need to run with <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">-u</span> <span class="pre">linux_user_account</span> <span class="pre">./platform</span> <span class="pre">-upgrade_db_30</span></code> if you&#8217;ve setup Mattermost to run under a different account.  This will ensure files under <code class="docutils literal"><span class="pre">./data/</span></code> have the correct permissions.</li>
<li>You will be asked <code class="docutils literal"><span class="pre">Have</span> <span class="pre">you</span> <span class="pre">performed</span> <span class="pre">a</span> <span class="pre">database</span> <span class="pre">backup?</span> <span class="pre">(YES/NO):</span></code><ul>
<li>If you have not backed up your database, enter <code class="docutils literal"><span class="pre">NO</span></code> and then backup your database</li>
<li>If you have verified your database has been backed up, enter <code class="docutils literal"><span class="pre">YES</span></code></li>
</ul>
</li>
<li>You will be asked to select a <code class="docutils literal"><span class="pre">primary</span> <span class="pre">team</span></code>.<ul>
<li>If you only have one team, enter the name of the team.</li>
<li>If you have more than one team, specify the <code class="docutils literal"><span class="pre">primary</span> <span class="pre">team</span></code> based on the team you use the most.<ul>
<li>If your server contains duplicate accounts (multiple accounts with either the same email addresses or the same usernames) the user account in the <code class="docutils literal"><span class="pre">primary</span> <span class="pre">team</span></code> will be considered the primary account and remain unchanged.<ul>
<li>When the server finds a duplicate account not in the <code class="docutils literal"><span class="pre">primary</span> <span class="pre">team</span></code> the email address of the account may be changed to avoid conflicts<ul>
<li>An account with a <strong>duplicate email address</strong> will be updated so <code class="docutils literal"><span class="pre">+[TEAM_URL_NAME]</span></code> is appended to the local part of the email address. For example: An account with a duplicate email <code class="docutils literal"><span class="pre">steve&#64;company.com</span></code> in the team at URL <code class="docutils literal"><span class="pre">https://mattermost.company.com/marketing</span></code> becomes <code class="docutils literal"><span class="pre">steve+marketing&#64;company.com</span></code>. The <code class="docutils literal"><span class="pre">+marketing</span></code> used in this procedure is part of the RFC5233 email specification and most email systems will properly route <code class="docutils literal"><span class="pre">steve+marketing&#64;company.com</span></code> to <code class="docutils literal"><span class="pre">steve&#64;company.com</span></code>. After the upgrade, if email authentication is used for sign-in, the user would need to sign-in with the new email address.</li>
<li>An account with a <strong>duplicate username</strong> will be updated so <code class="docutils literal"><span class="pre">[TEAM_URL_NAME].</span></code>” is prepended to the username. For example: An account with a duplicate username <code class="docutils literal"><span class="pre">steve</span></code> in the team at URL <code class="docutils literal"><span class="pre">https://mattermost.company.com/marketing</span></code> becomes <code class="docutils literal"><span class="pre">marketing.steve</span></code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Users with accounts containing duplicate emails or usernames will receive a notification email explaining the upgrade, and instructions on how to move to a single user account (<a class="reference external" href="https://www.mattermost.org/upgrading-to-mattermost-3-0/#notification">see example</a>)</li>
</ul>
</li>
</ol>
</li>
<li>Start your server and address any setting changes relevant in the latest version of Mattermost<ol>
<li>Run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">start</span> <span class="pre">mattermost</span></code>.</li>
<li>Opening the <strong>System Console</strong> and saving a change will upgrade your <code class="docutils literal"><span class="pre">config.json</span></code> schema to the latest version using default values for any new settings added.</li>
</ol>
</li>
<li>Test the system is working by going to the URL of an existing team.<ol>
<li>You may need to refresh your Mattermost browser page in order to get the latest updates from the upgrade.</li>
</ol>
</li>
<li>After the Mattermost 3.0 upgrade users with duplicate accounts can follow instructions in the upgrade email they received to login to teams on which the duplicate accounts were created and add their primary account to the team and any private groups that are still actively used. Users can continue to access the direct message history of their duplicate accounts using their updated email addresses.</li>
</ol>
<p>For any issues, Mattermost Enterprise Edition subscribers and trial license users can email support&#64;mattermost.com</p>
</div>
</div>
<div class="section" id="upgrade-enterprise-edition-to-2-2-x-and-earlier">
<span id="upgrade-enterprise-edition-to-2-2-x-and-earlier"></span><h3>Upgrade Enterprise Edition to 2.2.x and earlier<a class="headerlink" href="#upgrade-enterprise-edition-to-2-2-x-and-earlier" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li>Download the <strong>appropriate next upgrade</strong> of your Enterprise Edition server and note any compatibility procedures<ol>
<li>Run <code class="docutils literal"><span class="pre">platform</span> <span class="pre">-version</span></code> to check the current version of your Mattermost server</li>
<li>Determine the appropriate next upgrade for your server:<ul>
<li>Mattermost <code class="docutils literal"><span class="pre">v2.0.x</span></code> and <code class="docutils literal"><span class="pre">v2.1.x</span></code> can upgrade directly to Mattermost <code class="docutils literal"><span class="pre">v2.2.x</span></code>.</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v1.4.x</span></code> and <code class="docutils literal"><span class="pre">v2.0.x</span></code> can upgrade directly to Mattermost <code class="docutils literal"><span class="pre">v2.1.x</span></code>.</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v1.2.x</span></code> must upgrade to Mattermost <code class="docutils literal"><span class="pre">v1.3.x</span></code> before further upgrades.</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v1.1.x</span></code> must upgrade to Mattermost <code class="docutils literal"><span class="pre">v1.2.x</span></code> before further upgrades.</li>
<li>Mattermost <code class="docutils literal"><span class="pre">v1.0.x</span></code> must upgrade to Mattermost <code class="docutils literal"><span class="pre">v1.1.x</span></code> before further upgrades.</li>
</ul>
</li>
<li>Use the <a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html#version-archive">Version Archive List</a> to find the <code class="docutils literal"><span class="pre">[RELEASE</span> <span class="pre">URL]</span></code> for your desired version and enter <code class="docutils literal"><span class="pre">wget</span> <span class="pre">[RELEASE</span> <span class="pre">URL]</span></code> to download. For example, to download <code class="docutils literal"><span class="pre">vX.X.X</span></code>, use <code class="docutils literal"><span class="pre">wget</span> <span class="pre">https://releases.mattermost.com/X.X.X/mattermost-X.X.X-linux-amd64.tar.gz</span></code>.</li>
<li>Review <strong>Compatibility</strong> section in <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html">CHANGELOG</a> for the version downloaded and make sure to follow any instructions.</li>
</ol>
</li>
<li>Stop the Mattermost Server<ol>
<li>Consider posting an announcement to active teams about stopping the Mattermost server for an upgrade.</li>
<li>To stop the server run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">stop</span> <span class="pre">mattermost</span></code>.</li>
</ol>
</li>
<li>Backup your data<ol>
<li>Back up your <code class="docutils literal"><span class="pre">config.json</span></code> file, which contains your system configuration. This will be used to restore your current settings after the new version is installed.</li>
<li>Backup your database using your organization&#8217;s standard procedures for backing up MySQL or PostgreSQL.</li>
<li>If you&#8217;re using local file storage, back up the location where files are stored.</li>
</ol>
</li>
<li>Install new version<ol>
<li>Run <code class="docutils literal"><span class="pre">tar</span> <span class="pre">-xvzf</span> <span class="pre">mattermost-X.X.X-linux-amd64.tar.gz</span></code> to decompress the upgraded version and replace the current version of Mattermost on disk, where <code class="docutils literal"><span class="pre">X.X.X</span></code> is the version number to which you are upgrading.</li>
</ol>
</li>
<li>Restore the state of your server<ol>
<li>Copy the backed up version of <code class="docutils literal"><span class="pre">config.json</span></code> in place of the default <code class="docutils literal"><span class="pre">config.json</span></code>.</li>
</ol>
</li>
<li>Start your server and address any setting changes relevant in the latest version of Mattermost<ol>
<li>Run <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">start</span> <span class="pre">mattermost</span></code>.</li>
<li>Opening the <strong>System Console</strong> and saving a change will upgrade your <code class="docutils literal"><span class="pre">config.json</span></code> schema to the latest version using default values for any new settings added.</li>
</ol>
</li>
<li>Test the system is working by going to the URL of an existing team.
You may need to refresh your Mattermost browser page in order to get the latest updates from the upgrade.</li>
</ol>
<p>For any issues, Mattermost Enterprise Edition subscribers and trial license users can email support&#64;mattermost.com</p>
</div>
</div>
<div class="section" id="version-archive">
<span id="version-archive"></span><h2>Version Archive<a class="headerlink" href="#version-archive" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mattermost-enterprise-edition-server">
<span id="mattermost-enterprise-edition-server"></span><h3>Mattermost Enterprise Edition Server<a class="headerlink" href="#mattermost-enterprise-edition-server" title="Permalink to this headline">¶</a></h3>
<p>Private cloud enterprise communications server.</p>
<ul class="simple">
<li>Free to use in &#8220;team mode&#8221; with same features as open source version.</li>
<li>Enterprise features unlock with a license key and purchase of a subscription. <a class="reference external" href="https://about.mattermost.com/pricing/">See feature list and pricing</a> (including academic and non-profit options).</li>
</ul>
<hr class="docutils" />
<ul class="simple">
<li>Mattermost Enterprise Edition v3.5.1 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-5-1">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.5.1/mattermost-3.5.1-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.5.1/mattermost-3.5.1-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Enterprise Edition v3.4.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-4-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.4.0/mattermost-3.4.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.4.0/mattermost-3.4.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Enterprise Edition v3.3.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-3-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.3.0/mattermost-3.3.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.3.0/mattermost-3.3.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Enterprise Edition v3.2.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-2-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.2.0/mattermost-3.2.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.2.0/mattermost-3.2.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Enterprise Edition v3.1.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-1-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.1.0/mattermost-3.1.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.1.0/mattermost-3.1.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Enterprise Edition v3.0.3 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-0-3">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.0.3/mattermost-3.0.3-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.0.3/mattermost-3.0.3-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Enterprise Edition v2.2.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v2-2-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/2.2.0/mattermost-2.2.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/2.2.0/mattermost-2.2.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Enterprise Edition v2.1.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v2-1-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/2.1.0/mattermost-2.1.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/2.1.0/mattermost-2.1.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="mattermost-team-edition-server">
<span id="mattermost-team-edition-server"></span><h3>Mattermost Team Edition Server<a class="headerlink" href="#mattermost-team-edition-server" title="Permalink to this headline">¶</a></h3>
<p>Open source self-hosted team communication server compiled by Mattermost, Inc, available under an MIT license.</p>
<ul class="simple">
<li>Identical feature set to free version of Mattermost Enterprise Edition, but cannot be unlocked with a license key.</li>
</ul>
<hr class="docutils" />
<ul class="simple">
<li>Mattermost Team Edition v3.5.1 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-5-1">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.5.1/mattermost-team-3.5.1-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.5.1/mattermost-team-3.5.1-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v3.4.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-4-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.4.0/mattermost-team-3.4.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.4.0/mattermost-team-3.4.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v3.3.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-3-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.3.0/mattermost-team-3.3.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.3.0/mattermost-team-3.3.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v3.2.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-2-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.2.0/mattermost-team-3.2.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.2.0/mattermost-team-3.2.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v3.1.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-1-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.1.0/mattermost-team-3.1.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.1.0/mattermost-team-3.1.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v3.0.3 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v3-0-3">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/3.0.3/mattermost-team-3.0.3-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/3.0.3/mattermost-team-3.0.3-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v2.2.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v2-2-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/2.2.0/mattermost-team-2.2.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/2.2.0/mattermost-team-2.2.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v2.1.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v2-1-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/2.1.0/mattermost-team-2.1.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/2.1.0/mattermost-team-2.1.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v2.0.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v2-0-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/2.0.0/mattermost-team-2.0.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/2.0.0/mattermost-team-2.0.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v1.4.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v1-4-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/1.4.0/mattermost-team-1.4.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/1.4.0/mattermost-team-1.4.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v1.3.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v1-3-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/1.3.0/mattermost-team-1.3.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/1.3.0/mattermost-team-1.3.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v1.2.1 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v1-2-1">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/1.2.1/mattermost-team-1.2.1-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/1.2.1/mattermost-team-1.2.1-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v1.1.1 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v1-1-1">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/1.1.1/mattermost-team-1.1.1-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/1.1.1/mattermost-team-1.1.1-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v1.1.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v1-1-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/1.1.0/mattermost-team-1.1.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/1.1.0/mattermost-team-1.1.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v1.0.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html##release-v1-0-0">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/1.0.0/mattermost-team-1.0.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/1.0.0/mattermost-team-1.0.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v0.7.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v0-7-0-beta">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/0.7.0/mattermost-team-0.7.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/0.7.0/mattermost-team-0.7.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v0.6.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v0-6-0-alpha">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/0.6.0/mattermost-team-0.6.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/0.6.0/mattermost-team-0.6.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
<li>Mattermost Team Edition v0.5.0 - <a class="reference external" href="https://docs.mattermost.com/administration/changelog.html#release-v0-5-0-preview">View Changelog</a> - <a class="reference external" href="https://releases.mattermost.com/0.5.0/mattermost-team-0.5.0-linux-amd64.tar.gz">Download</a><ul>
<li><code class="docutils literal"><span class="pre">https://releases.mattermost.com/0.5.0/mattermost-team-0.5.0-linux-amd64.tar.gz</span></code></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="migrating.html" class="btn btn-neutral float-right" title="Migration Guide" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="backup.html" class="btn btn-neutral" title="Backup &amp; Disaster Recovery" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, 2016 Mattermost.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
 




<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-cog">&nbsp;&nbsp;Options</span>&nbsp;
        <span class="fa fa-angle-up"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Contribute</dt>
            <dd>
                <a href="https://github.com/mattermost/docs/issues">Report a Problem</a>
            </dd>
            
            <dd>
                <a href="https://github.com/mattermost/docs/blob/master/source/administration/upgrade.md"> Edit on GitHub</a>
            </dd>
            
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/myscript.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
	<header>
	<div class="header__container">
		<div class="search__icon">
			<i class="fa fa-search"></i>
		</div>
		<a href="http://docs.mattermost.com/" class="header__logo">
			<img width="176" src="https://about.mattermost.com/wp-content/uploads/2016/01/logo.png">
		</a>
		<div class="links__icon">
			<i class="fa fa-bars"></i>
		</div>
		<ul class="header__links">
			<li><a href="https://about.mattermost.com/solutions/">Solutions</a></li>
			<li><a href="https://about.mattermost.com/features/">Features</a></li>
			<li><a class="active" href="http://docs.mattermost.com/">Documentation</a></li>
			<li><a href="https://about.mattermost.com/pricing/">Pricing</a></li>
			<li><a href="https://about.mattermost.com/contact/">Contact</a></li>
			<li><a href="https://www.mattermost.org/download/">Download</a></li>
		</ul>
		<div class="header__searchbar">
			<form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
                <input type="text" name="q" placeholder="Search by keyword" autofocus />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
		</div>
	</div>
</header>


</body>
</html>